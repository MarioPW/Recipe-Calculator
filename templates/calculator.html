<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  <title>Recipe Calculator</title>
  <link rel="icon" href="../assets/images/favicon.png">
  <link rel="stylesheet" href="../assets/css/style.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
</head>

<body class="container" style="background-color: #000011;" id="body">
  <nav class="navbar navbar-expand-sm navbar-dark bg-dark fs-5 mb-3" id="navbar">
    <div class="container d-flex flex-sm-column justify-content-between">
      <div class="d-flex justify-content-between">
        <a class="navbar-brand fs-6 text-light" href="../index.html" id="user-name"></a>
        <li class="nav-item list-group-item text-light fs-6">
          <a class="myButton-success" id="logout">Logout</a>
        </li>
        <button class="navbar-toggler text-light" type="button" data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
          aria-label="Toggle navigation">
          <span class="navbar-toggler-icon text-light"></span>
        </button>
      </div>
      <div style="border-top: 1px solid #a3a3a3;">
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item" id="newRecipe">
              <a class="nav-link active fs-6 text-light" aria-current="page" href="#">New Recipe</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active fs-6 text-light" aria-current="page" id="newIngredient" href="#">New
                Ingredient</a>
            </li>

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle text-light fs-6" href="#" id="my-recipes" role="button"
                data-bs-toggle="dropdown" aria-expanded="false">My Recipes</a>
              <ul id="nav-recipes-dropdown" class="dropdown-menu" aria-labelledby="my-recipes">
                <!-- My Recipes -->
              </ul>
            </li>

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle text-light fs-6" href="#" id="my-ingredients" role="button"
                data-bs-toggle="dropdown" aria-expanded="false">My Ingredients</a>
              <ul id="nav-ingredients-dropdown" class="dropdown-menu" aria-labelledby="my-ingredients">
                <!-- My Ingredients -->
              </ul>
            </li>

          </ul>
          <!-- <form class="d-flex">
                <input
                  class="form-control me-2"
                  type="search"
                  placeholder="Search My Recipe"
                  aria-label="Search"
                  id="searchInput"
                />
                <button class="btn btn-outline-light" type="submit">
                  <i class="bi bi-search"></i>
                </button>
              </form> -->
        </div>
      </div>
    </div>
  </nav>

  <div class="container" style="max-width: 1000px;">

    <!-- START: Recipe Name -->
    <div class="d-none" id="name-card">
      <h4 class="bg-purple text-light p-2">Recipe Name:</h4>
      <form class="form-control border-0 needs-validation bg-light " id="recipeNameForm">
        <input type="text" id="name" placeholder="Ex: 'Baguettes'" class="form-control" required>
        <div class="d-grid gap-2 justify-content-end">
          <button type="submit" class="btn myButton-purple mt-2">Add</button>
        </div>
      </form>
    </div>
    <!-- END: Recipe Name -->

    <!-- START: New Ingredient Form -->
    <div class="" id="newIngredientForm">
      <header>
        <h4 class="bg-purple text-light p-2" id="ingredientHeader">New Ingredient:</h4>
      </header>
      <form class="row form-control m-0" id="userIngredientsForm">
        <ul class="p-3 gap-2 rounded-0 mb-0">
          <div class="row">
            <div class="col-md-6">
              <label for="name" class="form-label">Ingredient Name</label>
              <input type="text" name="name" class="form-control" id="name">
            </div>
            <div class="col-md-6">
              <label for="unitOfMeasure" class="form-label">Unit Of Measure</label>
              <select id="unitOfMeasure" class="form-select" name="unitOfMeasure" required>
                <!-- ToDo: Get Units Of measure from JS -->
                <option selected value="" name="">Choose...</option>
                <!-- <option value="Kg" name="Kg">Kg</option> -->
                <option value="g" name="g">g</option>
                <!-- <option value="lb" name="lb">lb</option> -->
                <!-- <option value="L" name="L">L</option> -->
                <option value="mL" name="mL">mL</option>
              </select>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6">
              <label for="brand" class="form-label">Brand</label>
              <input type="text" name="brand" class="form-control" id="brand">
            </div>
            <div class="col-md-6">
              <label for="supplier" class="form-label">Supplier</label>
              <input type="text" name="supplier" class="form-control" id="supplier">
            </div>
          </div>

          <div class="row">
            <div class="col-md-3">
              <label for="costPerKg" class="form-label">Cost per Kg or L</label>
              <input type="number" name="costPerKg" class="form-control" id="costPerKg">
            </div>

            <div class="col-md-3">
              <label for="expirationDate" class="form-label">Expiration Date</label>
              <input type="date" name="expirationDate" class="form-control" id="expirationDate">
            </div>

            <div class="col-md-3">
              <label for="batch" class="form-label">Batch</label>
              <input type="text" name="batch" class="form-control" id="batch">
            </div>
          </div>

          <div class="d-flex gap-2 mt-2 justify-content-end">
            <button type="button" class="d-none" id="deleteIngredientButton">Delete</button>
            <button type="submit" class="btn myButton-primary" id="saveIngredientButton" name="save">Save</button>
          </div>
        </ul>
      </form>
    </div>
    <!-- END: New Ingredient Form -->


    <!-- START: Modal Add Ingredient's Weight -->
    <div class="modal fade" id="addIngredientsWeight" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
      aria-labelledby="staticBackdropLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content" id="addWeightFormContainer">
          <!-- Modal from ../src/ui.js -->
          <div class="" id="weight-modal-header">
            <h5 class="modal-title" id="staticBackdropLabel"></h5>
          </div>
          <form class="form-control my-2 border-0 bg-light" id="weightModalForm">
            <label for="weightAddInput" class="label" id="weightAddLabel" value=""></label>
            <input required type="number" step="0.1" id="weightAddInput" placeholder="" class="form-control">
            <button type="submit" id="submitBtnAdd" name="" class="btn myButton-primary mt-2" data-bs-dismiss="modal"
              value="">
              Done
            </button>
            <button type="button" class="btn myButton-yellow mt-2" id="cancelBtnAdd" data-bs-dismiss="modal">
              Cancel
            </button>
          </form>

        </div>
      </div>
    </div>
    <!-- END: Modal Add Ingredient's Weight -->

    <!-- START: Modal Edit Ingredient -->
    <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
      aria-labelledby="staticBackdropLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header bg-primary text-light">
            <h5 class="modal-title" id="staticBackdropLabel">
              Edit Ingredient
            </h5>
          </div>
          <form class="form-control my-2 border-0 bg-light" id="userIngredientsEdit">
            <label for="ingredientEdit" class="label">Enter the ingredient's name:</label>
            <input required type="text" id="ingredientEdit" placeholder="Ingredient:" class="form-control" value="">
            <label for="weightEdit" class="label">Enter the weight in grams (g):</label>
            <input required type="number" id="weightEdit" placeholder="Weight(g):" class="form-control" value="">
            <button type="submit" id="submitBtnEdit" class="btn myButton-primary mt-2" data-bs-dismiss="modal" value="">
              Done
            </button>
            <button type="button" class="btn myButton-yellow mt-2" data-bs-dismiss="modal">
              Exit
            </button>
          </form>

        </div>
      </div>
    </div>
    <!-- END: Modal Edit Ingredient -->


    <!-- START: Modal Calculate Recipe -->

    <div class="modal fade" id="amountWeight" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
      aria-labelledby="staticBackdropLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="card shadow mb-3  rounded-0">
            <h4 class="bg-primary text-light p-2">
              Quantity and weight of each product:
            </h4>
            <form class="form-control my-2 border-0 bg-light" id="amounts">
              <label for="unitsAmount" class="label">Enter the number of units you want:</label>
              <input required type="number" id="unitsAmount" name="amount" placeholder="Amount:" class="form-control">
              <label for="eachOneWeight" class="label">Enter the weight in grams of each unit:</label>
              <input required type="number" id="eachOneWeight" name="weightPerUnit" placeholder="Weight(g):"
                class="form-control">
              <button id="calculateButton" type="submit" name="calculate" class="btn myButton-primary mt-2"
                data-bs-toggle="modal"></button>
              <!-- data-bs-target="#calculated" -->
              <button id="cancelButton" type="button" class="btn myButton-yellow mt-2" data-bs-dismiss="modal">
                Exit
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>
    <!-- END: Modal Calculate Recipe -->

    <!-- START: Recipe Table -->

    <div id="recipeViewContainer" class="d-none">
      <div id="recipeView" class="text-center bg-yellow text-light">
        <!-- Basic Recipe -->
      </div>

      <!-- START: Recipe Options -->
      <div class="d-grid gap-1" id="addIngredient">

        <div class="dropdown d-flex flex-column flex-sm-row gap-2 mt-2 mb-2 justify-content-end">
          <button class="btn myButton-yellow" id="editNameButton">Edit Name</button>

          <button id="calculateToggleButton" type="button" class="btn myButton-primary" data-bs-toggle="modal"
            data-bs-target="#amountWeight">Calculate</button>

          <button id="costRecipeButton" type="button" class="btn myButton-primary" data-bs-toggle="modal"
            data-bs-target="#amountWeight">Cost $</button>

          <button id="traceabilityToggleButton" type="button" class="btn myButton-purple" data-bs-toggle="modal"
            data-bs-target="#amountWeight">Traceability</button>

          <!-- Add Ingredients Dropdown from "ui.js" -->
          <button class="btn myButton-purple text-light dropdown-toggle" type="button" data-bs-toggle="dropdown"
            aria-expanded="false" id="addIngredientButton">Add Ingredient:</button>

          <ul id="add-ingredients-dropdown" class="dropdown-menu" aria-labelledby="navbarDropdown"
            data-bs-toggle="modal" data-bs-target="#addIngredientsWeight">
            <!-- My Ingredients from ui.js -->
          </ul>
        </div>
      </div>
      <!-- END: Recipe Options -->

      <table class="table table-hover table-striped">
        <thead>
          <tr>
            <th class="table-primary">Ingredients</th>
            <th class="table-primary">Weight</th>
            <th class="table-primary">Edit</th>
            <th class="table-primary">Delete</th>
          </tr>
        </thead>

        <tbody id="recipe">
          <!-- JS: | Ingerdient | Weight | Edit | Del | -->
        </tbody>
      </table>

      <div id="saveButtonContainer" class="d-flex gap-2 justify-content-end">
        <button id="save-button" class="btn myButton-primary">
          Save
        </button>
        <button id="delete-button" class="d-none">Delete</button>
      </div>
    </div>
    <!-- END: Recipe Table -->

    <!-- START: Custom Table -->
    <div class="d-none" id="custom-table-container">
      <div class="bg-purple text-light">
        <h4 id="custom-table-title"></h4>
      </div>
      <div id="custom-table-complements" class="d-none"></div>
      <table class="table table-hover table-striped">
        <thead id="custom-table-header">
          <!-- JS  -->
        </thead>

        <tbody id="custom-table-body">
          <!-- JS  -->
        </tbody>
      </table>
    </div>

    <!-- END: Custom Table -->

    <!-- START: Modal Calculated Recipe -->
    <div class="modal fade" id="calculated" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
      aria-labelledby="staticBackdropLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="card p-3 mt-3 shadow rounded-0">
            <div id="getConvertionHeader" class="mb-3 text-light"></div>
            <table class="table table-hover table-striped shadow">
              <thead>
                <tr>
                  <th class="table-primary">Ingredient</th>
                  <th class="table-primary">Weight</th>
                </tr>
              </thead>

              <tbody id="savedRecipe">
                <!-- JS: Calculated Recipe -->
              </tbody>
            </table>
            <button type="button" class="btn myButton-yellow mt-2" data-bs-dismiss="modal">
              Exit
            </button>
          </div>
        </div>
      </div>
    </div>
    <!-- END: Modal Calculated Recipe -->

    <!-- START: Modal Taceability -->
    <div class="modal fade" id="traceabilityModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
      aria-labelledby="staticBackdropLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="card p-3 mt-3 shadow rounded-0">
            <div id="traceabilityHeader" class="mb-3 text-light"></div>
            <table class="table table-hover table-striped shadow">
              <thead>
                <tr>
                  <th class="table-primary">Ingredient</th>
                  <th class="table-primary">Weight</th>
                  <th class="table-primary">U. of M.</th>
                  <th class="table-primary">Batch</th>
                  <th class="table-primary">Expiration Date</th>
                </tr>
              </thead>

              <tbody id="traceabilityTableBody">
                <!-- JS: Taceability Recipe -->
              </tbody>
            </table>
            <button type="button" class="btn myButton-yellow mt-2" data-bs-dismiss="modal">
              Exit
            </button>
          </div>
        </div>
      </div>
    </div>
    <!-- END: Modal Taceability -->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
      crossorigin="anonymous"></script>
    <script src="../index.js" type="module"></script>
  </div>
</body>

</html>